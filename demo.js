const vault = require("./common/vault")
const utils = require("./common/utils");
const { factoryABI } = require("./common/constant");
const Web3 = require("web3");
const walletconnect = require("./common/walletconnect");
const ipfsC = require("./common/ipfs_common");
const constant = require("./common/constant");
const token = require("./services/token")
async function main(){
    // console.log(await vault.read("official/account"));
    // console.log(utils.signMetaDataMsg("bc", 0));
    // walletconnect.signMetaDataMsg("abccc",1,web3).then(console.log);
    //ipfsC.add("ABC").then(console.log);
    // const salt = utils.numberToUint256("B80A95EE83FF3D3B");
    // console.log(salt);
    // const bytecode = "0x608060405234801561001057600080fd5b50604051610cf0380380610cf083398181016040528101906100329190610176565b61004e61004361009560201b60201c565b61009d60201b60201c565b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506101f1565b600033905090565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600081519050610170816101da565b92915050565b60006020828403121561018c5761018b6101d5565b5b600061019a84828501610161565b91505092915050565b60006101ae826101b5565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600080fd5b6101e3816101a3565b81146101ee57600080fd5b50565b610af0806102006000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063150b7a021461006757806345718278146100975780636ba4c138146100b3578063715018a6146100cf5780638da5cb5b146100d9578063f2fde38b146100f7575b600080fd5b610081600480360381019061007c9190610591565b610113565b60405161008e919061077e565b60405180910390f35b6100b160048036038101906100ac9190610614565b610127565b005b6100cd60048036038101906100c89190610670565b61013d565b005b6100d7610152565b005b6100e1610166565b6040516100ee919061072c565b60405180910390f35b610111600480360381019061010c9190610564565b61018f565b005b600063150b7a0260e01b9050949350505050565b61012f610213565b6101398282610291565b5050565b610145610213565b61014f3382610291565b50565b61015a610213565b6101646000610360565b565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b610197610213565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610207576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101fe90610799565b60405180910390fd5b61021081610360565b50565b61021b610424565b73ffffffffffffffffffffffffffffffffffffffff16610239610166565b73ffffffffffffffffffffffffffffffffffffffff161461028f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610286906107b9565b60405180910390fd5b565b60005b815181101561035b57600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323b872dd30858585815181106102f0576102ef61098c565b5b60200260200101516040518463ffffffff1660e01b815260040161031693929190610747565b600060405180830381600087803b15801561033057600080fd5b505af1158015610344573d6000803e3d6000fd5b50505050808061035390610914565b915050610294565b505050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600033905090565b600061043f61043a846107fe565b6107d9565b90508083825260208201905082856020860282011115610462576104616109ef565b5b60005b858110156104925781610478888261054f565b845260208401935060208301925050600181019050610465565b5050509392505050565b60006104af6104aa8461082a565b6107d9565b9050828152602081018484840111156104cb576104ca6109f4565b5b6104d68482856108d4565b509392505050565b6000813590506104ed81610a8c565b92915050565b600082601f830112610508576105076109ea565b5b813561051884826020860161042c565b91505092915050565b600082601f830112610536576105356109ea565b5b813561054684826020860161049c565b91505092915050565b60008135905061055e81610aa3565b92915050565b60006020828403121561057a576105796109fe565b5b6000610588848285016104de565b91505092915050565b600080600080608085870312156105ab576105aa6109fe565b5b60006105b9878288016104de565b94505060206105ca878288016104de565b93505060406105db8782880161054f565b925050606085013567ffffffffffffffff8111156105fc576105fb6109f9565b5b61060887828801610521565b91505092959194509250565b6000806040838503121561062b5761062a6109fe565b5b6000610639858286016104de565b925050602083013567ffffffffffffffff81111561065a576106596109f9565b5b610666858286016104f3565b9150509250929050565b600060208284031215610686576106856109fe565b5b600082013567ffffffffffffffff8111156106a4576106a36109f9565b5b6106b0848285016104f3565b91505092915050565b6106c28161086c565b82525050565b6106d18161087e565b82525050565b60006106e460268361085b565b91506106ef82610a14565b604082019050919050565b600061070760208361085b565b915061071282610a63565b602082019050919050565b610726816108ca565b82525050565b600060208201905061074160008301846106b9565b92915050565b600060608201905061075c60008301866106b9565b61076960208301856106b9565b610776604083018461071d565b949350505050565b600060208201905061079360008301846106c8565b92915050565b600060208201905081810360008301526107b2816106d7565b9050919050565b600060208201905081810360008301526107d2816106fa565b9050919050565b60006107e36107f4565b90506107ef82826108e3565b919050565b6000604051905090565b600067ffffffffffffffff821115610819576108186109bb565b5b602082029050602081019050919050565b600067ffffffffffffffff821115610845576108446109bb565b5b61084e82610a03565b9050602081019050919050565b600082825260208201905092915050565b6000610877826108aa565b9050919050565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b82818337600083830152505050565b6108ec82610a03565b810181811067ffffffffffffffff8211171561090b5761090a6109bb565b5b80604052505050565b600061091f826108ca565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156109525761095161095d565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b610a958161086c565b8114610aa057600080fd5b50565b610aac816108ca565b8114610ab757600080fd5b5056fea2646970667358221220b4949a99d0cc8f65fcd68bd63a4a3b98bcd6068e3b10b30134ff06ebc8c5350d64736f6c63430008070033000000000000000000000000406ab5033423dcb6391ac9eeead73294fa82cfbc"
    // //
    // const a = utils.buildCreate2Address("0xC3Ba5050Ec45990f76474163c5bA673c244aaECA",salt,bytecode)
    // //
    // // // const d = utils.encodeParamsABI(constant.factoryABI, [salt], "calculation");
    // //
    // console.log(a);
    // 0x88d3675aa6fef851413e8779098f911d8b094b9d
    // 0x3066363465656633663061316338306162626237643030666138313130626231
    await token.findTokenByAddress(utils.toChecksumAddress("0x470874ff7404eee2dda26f7b1417b8c49bdcbf1b")).then(console.log)
}

main()
